import os
import sys
from pyngrok import ngrok

# 1. –í–°–¢–ê–í–¨ –°–Æ–î–ê –°–í–û–ô –¢–û–ö–ï–ù (–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤ –∫–∞–≤—ã—á–∫–∞—Ö!)
NGROK_TOKEN = "36LFvbTQpWClaTHb6MjIX1n5YJS_5i6tPLc8aN7epu3mHdd1D" 

# 2. –ü—Ä–∏–º–µ–Ω—è–µ–º —Ç–æ–∫–µ–Ω
ngrok.set_auth_token(NGROK_TOKEN)

# 3. –ó–∞–ø—É—Å–∫–∞–µ–º —Ç—É–Ω–Ω–µ–ª—å
try:
    # –ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ –ø–æ—Ä—Ç—É 8000 (–≥–¥–µ —Ä–∞–±–æ—Ç–∞–µ—Ç Django)
    public_url = ngrok.connect(8000).public_url
    
    print("\n" + "="*50)
    print(f"üî• –¢–í–û–Ø –°–°–´–õ–ö–ê –ì–û–¢–û–í–ê: {public_url}")
    print("="*50 + "\n")
    print("–û—Ç–ø—Ä–∞–≤—å —ç—Ç—É —Å—Å—ã–ª–∫—É —Ä–æ–¥–Ω—ã–º. –ù–µ –∑–∞–∫—Ä—ã–≤–∞–π —ç—Ç–æ –æ–∫–Ω–æ!")
    
    # –î–µ—Ä–∂–∏–º –ø—Ä–æ–≥—Ä–∞–º–º—É –≤–∫–ª—é—á–µ–Ω–Ω–æ–π
    input("–ù–∞–∂–º–∏ Enter, —á—Ç–æ–±—ã –∑–∞–∫—Ä—ã—Ç—å —Ç—É–Ω–Ω–µ–ª—å...")

except Exception as e:
    print(f"\n‚ùå –û–®–ò–ë–ö–ê: {e}")
    print("–ü—Ä–æ–≤–µ—Ä—å, –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ —Ç—ã —Å–∫–æ–ø–∏—Ä–æ–≤–∞–ª —Ç–æ–∫–µ–Ω.")