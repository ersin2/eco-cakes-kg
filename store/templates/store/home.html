{% extends 'store/base.html' %}
{% load static %} {% block content %}

<div id="cakeCarousel" class="carousel slide carousel-fade mb-5 fade-up" data-bs-ride="carousel">
    <div class="carousel-inner rounded-4 shadow-lg">
        
        <div class="carousel-item active" data-bs-interval="3000">
            <img src="{% static 'img/slide1.jpg' %}" class="d-block w-100" alt="Слайд 1" style="height: 400px; object-fit: cover; filter: brightness(0.7);">
            <div class="carousel-caption d-none d-md-block">
                <h2 style="font-family: 'Playfair Display', serif; color: var(--gold);">Эко-Торты Бишкек</h2>
                <p>Натуральные ингредиенты и неповторимый вкус</p>
            </div>
        </div>

        <div class="carousel-item" data-bs-interval="3000">
            <img src="{% static 'img/slide2.jpg' %}" class="d-block w-100" alt="Слайд 2" style="height: 400px; object-fit: cover; filter: brightness(0.7);">
            <div class="carousel-caption d-none d-md-block">
                <h2 style="font-family: 'Playfair Display', serif; color: var(--gold);">Праздник в каждом кусочке</h2>
                <p>Идеально для дня рождения и свадеб</p>
            </div>
        </div>

        <div class="carousel-item" data-bs-interval="3000">
            <img src="{% static 'img/slide3.jpg' %}" class="d-block w-100" alt="Слайд 3" style="height: 400px; object-fit: cover; filter: brightness(0.7);">
            <div class="carousel-caption d-none d-md-block">
                <h2 style="font-family: 'Playfair Display', serif; color: var(--gold);">Закажите онлайн</h2>
                <p>Быстрая доставка и оплата через MBank</p>
            </div>
        </div>

    </div>
    
    <button class="carousel-control-prev" type="button" data-bs-target="#cakeCarousel" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#cakeCarousel" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
    </button>
</div>

<div class="container pb-5">
    <div class="text-center mb-5 fade-up">
        <h2 class="display-5 text-white" style="font-family: 'Playfair Display', serif;">Наши Десерты</h2>
        <div style="width: 60px; height: 3px; background: var(--gold); margin: 20px auto;"></div>
    </div>

    <div class="row row-cols-1 row-cols-md-3 g-4">
        {% for product in products %}
        <div class="col fade-up">
            <div class="card h-100 bg-dark text-white border-secondary shadow-sm" style="border: 1px solid #333;">
                
                <div style="height: 250px; overflow: hidden;" class="position-relative">
                    {% if product.image %}
                    <img src="{{ product.image.url }}" class="card-img-top w-100 h-100" alt="{{ product.name }}" style="object-fit: cover; transition: transform 0.5s;">
                    {% else %}
                    <div class="d-flex align-items-center justify-content-center h-100 bg-secondary text-white-50">Нет фото</div>
                    {% endif %}
                </div>

                <div class="card-body text-center p-4">
                    <h5 class="card-title mb-3" style="font-family: 'Playfair Display', serif;">{{ product.name }}</h5>
                    <p class="card-text text-white-50 small">{{ product.description|truncatewords:10 }}</p>
                    <h4 class="text-warning my-3">{{ product.price }} с.</h4>
                    
                    <a href="{% url 'add_cart' product.id %}" class="btn btn-outline-light w-100 rounded-pill py-2" style="border-color: var(--gold); color: var(--gold);">
                        <i class="fas fa-shopping-cart me-2"></i> В корзину
                    </a>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>

<style>
    /* Анимация увеличения картинки при наведении */
    .card:hover img {
        transform: scale(1.1);
    }
    .btn-outline-light:hover {
        background-color: var(--gold);
        color: black !important;
        border-color: var(--gold);
    }
</style>

{% endblock %}